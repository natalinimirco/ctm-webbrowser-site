<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Concrete Test Manager (CTM) WebBrowser</title>
  <meta name="description"
        content="Concrete Test Manager (CTM) WebBrowser – applicazione desktop per la gestione e la pianificazione dei getti di calcestruzzo.">
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="app_icon.ico" />

  <!-- Stili per le card delle recensioni (coerenti con acquista.html) -->
  <style>
    .reviews-list {
      margin-top: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .review-card {
      padding: 0.75rem 1rem;
      border-radius: 10px;
      background-color: #f6f7fb;
      border: 1px solid #e0e3f0;
    }

    .review-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.25rem;
      font-size: 0.9rem;
      font-weight: 600;
      color: #333;
    }

    .review-card-date {
      font-size: 0.8rem;
      color: #777;
    }

    .review-card-body {
      font-size: 0.9rem;
      color: #444;
      white-space: pre-wrap;
    }

    .reviews-placeholder {
      margin-top: 1rem;
    }
  </style>
</head>
<body>

<div class="page" id="top">

  <!-- TOP BAR -->
  <header class="topbar">
    <nav class="topnav">
      <a href="#funzioni">Funzioni</a>
      <a href="#perche-ctm">Perché CTM</a>
      <a href="#download">Download</a>
      <a href="#requisiti">Requisiti</a>
      <a href="#recensioni">Recensioni</a>
      <a href="#contatti">Contatti</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-text">
      <h1>Concrete Test Manager (CTM) WebBrowser</h1>
      <p class="hero-subtitle">
        Gestione strutturata dei getti di calcestruzzo con interfaccia via browser,
        logica coerente con il lavoro di studio tecnico e laboratorio.
      </p>

      <p class="hero-body">
        CTM WebBrowser è un’applicazione desktop che espone un front-end moderno nel browser:
        pianificazione dei getti, scadenze di controllo, stato delle PEC e promemoria in un’unica vista.
        L’archivio è interamente in locale: nessun cloud obbligatorio, nessun invio automatico di dati.
      </p>
    </div>

    <!-- SLIDESHOW SCHERMATE -->
    <div class="hero-screens">
      <div class="slider">
        <button class="slider-arrow left" aria-label="Schermata precedente">&#10094;</button>
        <div class="slide active">
          <img src="1.jpg" alt="Schermata principale di CTM WebBrowser con elenco getti e stato PEC" />
        </div>
        <div class="slide">
          <img src="2.jpg" alt="Schermata di CTM WebBrowser con programmazione eventi e scadenze" />
        </div>
        <button class="slider-arrow right" aria-label="Schermata successiva">&#10095;</button>
      </div>
    </div>

    <!-- BLOCCO PREZZO + DOWNLOAD -->
    <div class="hero-download">
      <p class="pricing">
        Prezzo di listino: <strong>49,90 €</strong> per una postazione con licenza <strong>life-time</strong>;
        prezzo di lancio <strong>29,90 €</strong>.
        Sono compresi gli aggiornamenti correttivi (bugfix) e l’assistenza via mail.
      </p>

      <div class="hero-cta">
        <div class="offer-wrapper">
          <img class="offer-image" src="sconto.png"
               alt="Offerta di lancio CTM WebBrowser 29,90 € anziché 49,90 € per i primi 15 giorni" />
        </div>
        <div class="download-wrapper">
          <a class="btn-primary"
             href="https://github.com/natalinmirco/ctm-webbrowser-site/releases/latest/download/CTM_WebBrowser_1.0_Setup.exe"
             rel="noopener noreferrer"
             download>
            Scarica CTM WebBrowser (.exe)
          </a>
          <a class="btn-secondary" href="acquista.html">
            Acquista licenza
          </a>
        </div>
      </div>

      <p class="hero-meta">
        Eseguibile per sistemi operativi Windows supportati.<br>
        Connessione Internet richiesta per l’attivazione e, opzionalmente,
        per la sincronizzazione con Google Calendar; per l’utilizzo ordinario non è necessaria.
      </p>
    </div>
  </section>

  <main>

    <!-- FUNZIONI -->
    <section class="section" id="funzioni">
      <h2>Funzioni principali</h2>
      <ul class="feature-list">
        <li>archivio dei getti con cliente, cantiere, elemento e data di getto;</li>
        <li>calcolo automatico dei giorni rimanenti e indicatore grafico di urgenza;</li>
        <li>gestione dello stato delle PEC e pianificazione degli eventi in calendario;</li>
        <li>backup e ripristino dedicati all’archivio dell’applicazione;</li>
        <li>interfaccia via browser con dati sempre residenti sul PC dell’utilizzatore.</li>
      </ul>
    </section>

    <!-- PERCHÉ CTM E NON EXCEL -->
    <section class="section" id="perche-ctm">
      <h2>Perché scegliere CTM invece di un foglio Excel</h2>
      <ul class="info-list">
        <li>struttura dati pensata per getti e prove, non per tabelle generiche;</li>
        <li>calcolo automatico di giorni rimanenti, urgenze e scadenze, senza formule da mantenere;</li>
        <li>vista unica e filtrabile di clienti, cantieri, elementi e stato delle PEC;</li>
        <li>log degli eventi e backup integrati, più semplici da gestire rispetto a file sparsi;</li>
        <li>interfaccia coerente e controllata, con meno margine di errore rispetto alla modifica libera delle celle.</li>
      </ul>
    </section>

    <!-- DOWNLOAD + INSTALLAZIONE -->
    <section class="section" id="download">
      <h2>Download e installazione</h2>
      <p>Per installare CTM WebBrowser:</p>
      <ol class="steps">
        <li>clicca sul pulsante <strong>“Scarica CTM WebBrowser (.exe)”</strong> in alto;</li>
        <li>salva il file <strong>CTM_WebBrowser_1.0_Setup.exe</strong> sul tuo PC;</li>
        <li>esegui l’installer (potrebbe essere richiesta la conferma dell’amministratore di sistema);</li>
        <li>al termine, avvia CTM dal collegamento sul Desktop o dal menu Start;</li>
        <li>il browser predefinito si aprirà automaticamente con l’interfaccia di CTM.</li>
      </ol>
      <p class="note">
        Per ulteriori dettagli operativi e flussi di lavoro suggeriti, fai riferimento al manuale utente incluso
        nella directory dell’applicazione.
      </p>
    </section>

    <!-- MANUALE -->
    <section class="section">
      <h2>Manuale utente</h2>
      <p>
        Il manuale è disponibile sia all’interno della cartella di installazione, sia come download diretto da questa pagina:
      </p>
      <a class="btn-secondary"
         href="Manuale%20CTM_Browser%201.0.pdf"
         download>
        Scarica manuale utente (PDF)
      </a>
    </section>

    <!-- INFO / REQUISITI -->
    <section class="section" id="requisiti">
      <h2>Informazioni e requisiti</h2>
      <ul class="info-list">
        <li>versione applicativa: <strong>CTM WebBrowser 1.0.0</strong>;</li>
        <li>piattaforma: sistemi operativi Windows supportati dall’eseguibile;</li>
        <li>browser richiesto: Chrome, Edge, Firefox o altro browser moderno aggiornato;</li>
        <li>connessione Internet: necessaria per attivazione e per eventuale sincronizzazione con Google Calendar;</li>
        <li>dati di lavoro e backup memorizzati in locale sul PC dell’utilizzatore.</li>
      </ul>
    </section>

    <!-- RECENSIONI IN HOME -->
    <section class="section" id="recensioni">
      <h2>Recensioni degli utilizzatori</h2>
      <p class="note">
        Le recensioni qui sotto sono salvate localmente sul tuo browser dopo l’invio dalla pagina
        <a href="acquista.html">“Acquista licenza”</a>. Una selezione di recensioni potrà essere riportata
        in forma stabile sul sito dopo verifica da parte dell’autore.
      </p>
      <div class="reviews-list" id="reviews-list-home">
        <!-- recensioni locali -->
      </div>
      <div class="reviews-placeholder" id="reviews-placeholder-home">
        <p class="note">
          Non risultano recensioni inserite da questo browser.
          Puoi lasciare la tua recensione dalla pagina <a href="acquista.html">“Acquista licenza”</a>.
        </p>
      </div>
    </section>

    <!-- CONTATTI -->
    <section class="section" id="contatti">
      <h2>Contatti</h2>
      <p>Per richieste di licenza, assistenza o segnalazioni:</p>
      <p><a href="mailto:ctmbrowser@gmail.com">ctmbrowser@gmail.com</a></p>
    </section>

  </main>

  <footer class="footer">
    <p>© <span id="year"></span> Concrete Test Manager (CTM) WebBrowser – Tutti i diritti riservati.</p>
  </footer>

</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // anno footer
    var yearSpan = document.getElementById('year');
    if (yearSpan) {
      yearSpan.textContent = new Date().getFullYear();
    }

    // slider
    var slides = document.querySelectorAll('.slide');
    var prevBtn = document.querySelector('.slider-arrow.left');
    var nextBtn = document.querySelector('.slider-arrow.right');

    var current = 0;
    var timer = null;

    function showSlide(index) {
      slides.forEach(function (s, i) {
        s.classList.toggle('active', i === index);
      });
      current = index;
    }

    function nextSlide() {
      var next = (current + 1) % slides.length;
      showSlide(next);
    }

    function prevSlide() {
      var prev = (current - 1 + slides.length) % slides.length;
      showSlide(prev);
    }

    function startAuto() {
      stopAuto();
      timer = setInterval(nextSlide, 5000); // 5 secondi
    }

    function stopAuto() {
      if (timer) {
        clearInterval(timer);
        timer = null;
      }
    }

    if (slides.length && prevBtn && nextBtn) {
      nextBtn.addEventListener('click', function () {
        nextSlide();
        startAuto();
      });

      prevBtn.addEventListener('click', function () {
        prevSlide();
        startAuto();
      });

      // avvio slider
      showSlide(0);
      startAuto();

      document.addEventListener('visibilitychange', function () {
        if (document.hidden) {
          stopAuto();
        } else {
          startAuto();
        }
      });
    }

    // --- RECENSIONI IN HOME (solo lettura da localStorage) ---
    var reviewsKey = 'ctm_webbrowser_reviews';
    var listHome = document.getElementById('reviews-list-home');
    var placeholderHome = document.getElementById('reviews-placeholder-home');

    function loadReviewsHome() {
      try {
        var raw = localStorage.getItem(reviewsKey);
        if (!raw) return [];
        var arr = JSON.parse(raw);
        if (Array.isArray(arr)) return arr;
        return [];
      } catch (e) {
        return [];
      }
    }

    function renderReviewsHome() {
      var reviews = loadReviewsHome();
      listHome.innerHTML = '';
      if (!reviews.length) {
        if (placeholderHome) placeholderHome.style.display = 'block';
        return;
      }
      if (placeholderHome) placeholderHome.style.display = 'none';

      reviews.forEach(function (r) {
        var card = document.createElement('div');
        card.className = 'review-card';

        var header = document.createElement('div');
        header.className = 'review-card-header';

        var userSpan = document.createElement('span');
        userSpan.textContent = r.user || 'Utente anonimo';

        var dateSpan = document.createElement('span');
        dateSpan.className = 'review-card-date';
        dateSpan.textContent = r.date || '';

        header.appendChild(userSpan);
        header.appendChild(dateSpan);

        var body = document.createElement('div');
        body.className = 'review-card-body';
        body.textContent = r.text || '';

        card.appendChild(header);
        card.appendChild(body);

        listHome.appendChild(card);
      });
    }

    renderReviewsHome();
  });
</script>

</body>
</html>
